{% load static %}
{% load widget_tweaks %}
{% load item_tags %}


<form action="#" method="POST" id="question_form"  enctype='multipart/form-data' > 
{% csrf_token %}    
    <input type="hidden" name="flashpack" id="id_flashpack" value="{{ flashpack.id }}" /> 
    <input type="hidden" name="subject" id="id_subject" value="{{ flashpack.subject.id }}" /> 
    <div class="row">
        <div class="col-sm-12 col-md-4">
                <label>Titre</label>
                {{ form.title|add_class:"form-control"  }}
                {{ form.title.errors }}
        </div>
        {% if request.user.is_teacher %}
            {% if request.user.teacher != flashpack.teacher %}
            <div class="col-sm-12 col-md-4">
                    <label>Validation</label><br/>
                    {{ form.is_validate|attr:"data-toggle:toggle"|attr:"data-onstyle:primary"|attr:"data-offstyle:default"|attr:"data-on:Oui"|attr:"data-off:Non"}}
                    {{ form.is_validate.errors }}
            </div>
            {% endif  %}
        {% endif  %}
        <div class="col-sm-12 col-md-4">
            <div class="form-group">
                <label>Calculatrice ?</label><br/>
                {{ form.calculator|attr:"data-toggle:toggle"|attr:"data-onstyle:primary"|attr:"data-offstyle:default"|attr:"data-on:Oui"|attr:"data-off:Non"}}
                {{ form.calculator.errors }}
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-sm-12 col-md-12">
            <label>Attendu (optionnel)</label>
            {{ form.waiting|add_class:"form-control select2"}} 
            {{ form.waiting.errors }} 
        </div>
    </div>
    <div class="row">
        <div class="col-sm-8 col-md-6">
            <h2 class="thin">Question proposée</h2>
        </div>
    </div>
    <div class="row">  
        <div class="col-sm-12 col-md-10">
            {{ form.question }}
            {{ form.question.errors }}             
        </div>
        <div class="col-sm-12 col-md-1">
            <a href="#" data-toggle='modal' data-target='#textarea_display' id="this_question_textarea_display"><i class="bi bi-eye"></i> Voir en taille réelle</a>   
        </div>
    </div>
    <div class="row">
        <div class="col-sm-8 col-md-6">
            <h2 class="thin">Réponse attendue</h2>
        </div>
    </div>
    <div class="row">  
        <div class="col-sm-12 col-md-10">
            {{ form.answer }}
            {{ form.answer.errors }}    
        </div>
        <div class="col-sm-12 col-md-1" >
            <a href="#" data-toggle='modal' data-target='#textarea_display'   id="this_answer_textarea_display"><i class="bi bi-eye"></i> Voir en taille réelle</a>   
        </div>
    </div>
    <div class="row">
        <div class="col-sm-6 col-md-6">
            <h2 class="thin">Aide </h2>
        </div>
    </div>
    <div class="row">  
        <div class="col-sm-12 col-md-10">
            {{ form.helper }}
            {{ form.helper.errors }}   
        </div>
        <div class="col-sm-12 col-md-1">
            <a href="#" data-toggle='modal' data-target='#textarea_display' id="this_helper_textarea_display"><i class="bi bi-eye"></i> Voir en taille réelle</a>   
        </div>
    </div>
    <div class="row">
        <div class="col-sm-12 col-md-12"> 
            <div class="form-group">
                <input value="Enregistrer" type="submit" class="btn btn-primary"/>
                {% if flashcard %}<input value="Valider" type="submit" name="validate" class="btn btn-info"/>{% endif %}
                <a href="javascript:void();"><input type="button" value="Annuler" class="btn btn-default "/></a>
            </div>
        </div>    
    </div>
</form>


<div class="modal fade" id="textarea_display" tabindex="-1" role="dialog" aria-labelledby="textarea_display" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document" style="width:630px;font-size: 16px">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button> 
                <h3>Visualisation de <span id="type_of_textarea_display"></span> au format réel</h3>              
            </div>
            <div class="modal-body" >
                <div class="exotex flashcard" id="body_of_textarea_display" style="width:600px;" >
                </div> 
                <div style="clear: both"></div>
            </div>
        </div>
    </div>
</div> 