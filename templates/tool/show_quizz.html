{% extends 'dashboard.html' %}
{% load static %}
{% load widget_tweaks %}
{% load item_tags %}


{% block require %}
    <script src="{% static 'js/require.js' %}"   data-main="{% static 'js/common3.js' %}"></script>
    <script>
        require(['script/quizz-slider']);
    </script> 
{% endblock %}



{% block page_title %}
   <a href="{% url 'list_quizzes' %}" ><i class="fa fa-cubes"></i> </a> Outils pédagogiques 
   <img width="25px" src="{% static 'img/angle-right.png' %}"/> Quizz 
 
{% endblock %}


{% block page_menu_right %}
    <a href="{% url 'play_quizz_teacher' quizz.id %}" target="_blank" class="btn btn-new">Mode jeu</a>
    <a href="{% url 'list_quizzes' %}" target="_blank" class="btn btn-new">Mes quizz</a>
{% endblock %}






{% block body %}
 
 
  <div class="row" align="center">  
        <div class="col-sm-12 col-md-3" align="center"  >
            <div id="start_quizz">
                <button  class='btn btn-primary'><i class='fa fa-play'></i> Lecture automatique</button>
            </div>
        </div>
        <div class="col-sm-12 col-md-6" align="center" >
            {% for question in questions %}
                <button id="question{{ forloop.counter }}" class="btn btn-default thisquestion"> Q{{ forloop.counter }} </button> 
            {% endfor %}
        </div>



        <div class="col-sm-12 col-md-3 nav" align="center"  >
            <button data-nav="prev" class="btn btn-default"><i class="fa fa-caret-left"></i> Précedent</button>  
            <button data-nav="next" class="btn btn-default"><i class="fa fa-caret-right"></i> Suivant</button>    
        </div>
  </div> 

    <div class="wrapper_slider">
  <!-- Wrapper for slides -->
        <div class="slider">

            <ul>
                <li class="my_slide">
                    <input type="hidden" value="3" id="introduction" /> 
                    <div class="row consigne_diapo"  align="center">  
                        <div class="col-sm-12 col-md-12">
                            <h1 style="font-size:4em" class="thin"> 
                                {{ quizz.title}}
                            </h1>
                            {% if quizz.vignette %}<img src="{{ quizz.vignette.url }}" width="700px"  />{% endif %}
                        </div>
                    </div> 
                </li>


                {% for question in questions %}
                <li class="my_slide">
                    <input type="hidden" value="3" id="inter_slide{{ forloop.counter }}" /> 
                    <div class="row consigne_diapo"  align="center">  
                        <div class="col-sm-12 col-md-12">
                            <h1 style="font-size:4em" class="thin"><b>Question {{forloop.counter}}.</b><br/>La durée de cette question est <br/>  <b>{{ question.duration }} secondes</b>. <br/> 
                                {% if question.kind == 1 %}
                                    Répondre à cette question par <br/><b>Vrai</b> ou <b>Faux</b>
                                {% elif question.kind == 2 %}
                                    Vous devez répondre en écrivant <br/><b>la bonne réponse</b>.
                                {% elif question.kind == 3 %}
                                    <small>Vous devez choisir <br/><b>la ou les bonnes réponses</b><br/> parmi les 4 réponses proposées.</small>
                                {% else %}
                                    <small>Vous devez choisir la <br/><b>seule bonne réponse</b><br/>  parmi les 4 réponses proposées.</small>
                                {% endif %}
                            </h1>
                        </div>
                    </div> 
                </li>
                <li class="my_slide">
                    <input type="hidden" value="{{ question.duration }}" id="duration{{ forloop.counter }}" /> 
                    <div class="row">  
                        <div class="col-sm-12 col-md-6" align="left">
                            <img src="{% if question.calculator %}{% static 'img/calculator.png' %}{% else %}{% static 'img/no_calculator.png' %}{% endif %}" height="50px" />
                        </div>
                        <div class="col-sm-12 col-md-6" align="right">
                            <div class="countdown" id="countdown{{ forloop.counter }}" > 
                                {{ question.duration }}
                            </div>
                        </div>
                    </div> 
                    <div class="row">  
                        <div class="col-sm-12 col-md-12"align="center">
                            <h1 style="font-size:4em" class="thin"><b>Q{{forloop.counter}}.</b> {{ question.title }} </h1>
                        </div>
                    </div>
                    {% if question.imagefile %}
                    <div class="row">  
                        <div class="col-sm-12 col-md-12"align="center">
                             <img src="{{ question.imagefile.url }}" height="300px"  />
                        </div>
                    </div>
                    {% endif %}

                    <hr/>
                    {% if question.kind > 0 %}
                        {% if question.kind == 1 %}
                        
                        <div class="row">  
                            <div class="col-sm-12 col-md-12" align="center">
                                Répondre par Vrai ou Faux
                            </div>
                        </div>
                        {% elif kind == 2 %}
 
                        <div class="row">  
                            <div class="col-sm-12 col-md-12" align="center">
                                Rédige la bonne réponse
                            </div>
                        </div>
                        {% else %}

                        <div class="row">  
                            <div class="col-sm-12 col-md-12" align="center">
                                Choisis {% if kind == 4 %}la bonne réponse {% elif kind == 3  %}les bonnes réponses{% endif %}
                            </div>
                        </div>
                        <div class="row">  
                            {% for choice in question.choices.all %}
                            {% cycle 'bgcolorRed' 'bgcolorBlue' 'bgcolorOrange' 'bgcolorGreen' as rowcolor %} 
                            {% cycle 'A' 'B' 'C' 'D'  as choice_letter %}
                            <div class="col-sm-12 col-md-6">
                                <div class="row quizz_box_answer3" >
                                    <div class="col-sm-3 col-md-2 {{ rowcolor }} get_image"> 
                                        {{ choice_letter }}     
                                    </div>
                                    <div class="col-sm-9 col-md-10"> 
                                        {{ choice.answer }}
                                    </div>
                                </div>  
                            </div> 
                            {% endfor %}
                            {% resetcycle %}
                        </div>
                        {% endif %}
                    {% endif %}

                </li>
                {% endfor %}
                <li class="my_slide">
                    <input type="hidden" value="3" id="final_question" /> 
                    <div class="row consigne_diapo"  align="center">  
                        <div class="col-sm-12 col-md-12">
                            <h1 style="font-size:4em" class="thin">
                                <br/><br/>
                                <b> -- FIN -- </b>
                                <br/><br/>
                                Posez vos stylos
                                <br/><br/>
                            </h1>
                        </div>
                    </div> 
                </li>





            </ul>
        </div>
    </div>
 
{% endblock %} 