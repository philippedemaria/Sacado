{% extends 'dashboard.html' %}
{% load static %}
{% load widget_tweaks %}
{% load item_tags %}



{% block python %}

 
<script src="{% static 'basthon/ace/ace.js' %}"></script>
<script src="{% static 'basthon/ace/ext-language_tools.js' %}"></script>
{% endblock %}




{% block require %}
    <script src="{% static 'js/require.js' %}"   data-main="{% static 'js/common3.js' %}"></script>
    <script>
        require(['script/ajax-quizz-create','script/ajax-question-flash','script/question_flash_ace-ckeditor']);
    </script>
    {% if mental %} 
    <script>
        require(['script/ajax-question-flash_update-ace']);
    </script>
    {% endif %}
{% endblock %}

 

{% block page_title %}
    <span class="sacado_color_text"><i class="bi bi-lightning"></i></span>  
       Les questions flash <img src="{% static 'img/angle-right.png' %}" width="25px"/> {{level.name}}
{% endblock %}



{% block page_menu_right %}
     <li class="dropdown">
        <a href="#" data-toggle="dropdown" class="dropdown-toggle btn btn-new"> Questions flash <i class="fa fa-caret-down"></i></a>

        <ul id="products-menu" class="dropdown-menu clearfix pull-right" role="menu">
            {% for l in levels %}       
            <li> 
                <a href="{% url 'admin_mentals' l.id  %}">{{ l.name }}</a>
            </li> 
            {% endfor %}   
        </ul>
    </li> 
{% endblock %}

 

{% block css_files %}
{% endblock %}


{% block body %}
<style type="text/css">
.table {
    width: 100%;
    max-width: 100%;
    margin-bottom: 0px;
}
#id_div_script {
    float:none;
    width: 100%;
    height: 50vh;
    border-radius: 0.6vw;
    margin: 0px;
    padding-top: 0px;
}
#id_script {
    display:none;
}
</style>
<section class="content_main"> 
    <h4 class="thin">Savoir faire </h4>
    <form action="" method="POST"  enctype='multipart/form-data' class="form_card">
        {% csrf_token %}
        <div class="row">
            <div class="col-sm-12 form-group">
                <label>Titre</label>
                {{ form.content|add_class:"form-control" }}
                {{ form.content.errors }}
            </div>
        </div>
        <div class="row">
            <div class="col-sm-11 col-md-6 form-group">
                <label>Thème </label>
                {% if mental %} 
                    <a href="{%  url 'admin_create_update_mentaltitle' mental.mentaltitle.id %}"><i class="bi bi-pencil"></i></a> 
                {% else %}
                    <a href="{%  url 'admin_create_update_mentaltitle' 0 %}"><i class="bi bi-plus-circle"></i></a> 
                {% endif %}
                {{ form.mentaltitle|add_class:"form-control select2" }}
                {{ form.mentaltitle.errors }}
            </div>
            <div class="col-sm-6 col-md-3 form-group">
                <label>Ordre</label>
                {{ form.ranking|add_class:"form-control"  }}
                {{ form.ranking.errors }}
            </div>
            <div class="col-sm-6 col-md-3 form-group">
                <label>En ligne ?</label><br/>
                {{ form.is_display |attr:"data-toggle:toggle" |attr:"data-onstyle:success"|attr:"data-offstyle:danger"|attr:"data-on:Oui"|attr:"data-off:Non"}}
                {{ form.is_display.errors }}
            </div>
        </div>
        <div class="row">
            <div class="col-sm-6 form-group">
                <label>Code html</label>                 
                {{ form.html }}
                {{ form.html.errors }}
            </div>
            <div class="col-sm-6 form-group">
                <label>Code Python</label>                
                <div id="id_div_script"></div>
                {{ form.script }}
                {{ form.script.errors }}
            </div>
        </div>
        <div class="row">
            <div class="col-sm-12 form-group">
                <div class="form-group">
                    <input value="Créer" type="submit" id="on_submit" class="btn btn-primary" name="mental"   />
                    <a href="javascript:history.back()"><input type="button" value="Annuler" class="btn btn-default "/></a>
                </div>
            </div>
        </div>
    </form> 
</section>
{% endblock %} 